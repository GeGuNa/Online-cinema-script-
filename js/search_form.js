define("search_form","init",function(){var e=".js-search__input",c=".js-search__btn_clear",s=".js-search__submit",n={init:function(){var i=this;Device.android()&&Device.android()<2.3||$("#main").on("focus",e,function(n){var t=$(this);t.data("noToggleSubmit")||i.changeButtons(t,!0)}).on("blur change",e,function(n){var t=$(this);t.data("noToggleSubmit")||setTimeout(function(){t.is(":focus")||i.changeButtons(t,!1)},200)}).on("click",c,function(n){var t=$(this);!t.data("noToggleSubmit")&&i.clear(t)&&(n.preventDefault(),n.stopPropagation(),t.trigger("clearSearchForm"))})},changeButtons:function(n,t){var i=this,e=i.findParent(n),a=e.find(c),o=e.find(s),r=!$.trim(n.val()).length||t;a.toggleClass("hide",r),o.toggleClass("hide",!r)},clear:function(n){var t=this.findParent(n).find(e);if(!t.is(":focus"))return t.val("").trigger("input"),this.changeButtons(t,!1),!0},findParent:function(n){for(;n&&n.length;){if(n.find(e).length&&n.find(s).length)return n;n=n.parent()}}};define("search_form","onRequest",function(){n.init()})});